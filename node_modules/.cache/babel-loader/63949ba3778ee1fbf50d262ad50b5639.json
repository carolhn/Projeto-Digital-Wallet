{"ast":null,"code":"import _defineProperty from\"/home/carol/Projetos/sd-024-b-project-trybewallet/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/carol/Projetos/sd-024-b-project-trybewallet/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/carol/Projetos/sd-024-b-project-trybewallet/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/carol/Projetos/sd-024-b-project-trybewallet/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/carol/Projetos/sd-024-b-project-trybewallet/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{connect}from'react-redux';import{actEmail}from'../redux/actions/index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var numberMax=6;var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={button:true,email:'',password:''};_this.handleChange=function(_ref){var target=_ref.target;var name=target.name,value=target.value;_this.setState(_defineProperty({},name,value),function(){return _this.validateEmail();});// vou chamar minha função de validação de input, quando digitar algo ele vai fazer verificações ate chegar na condição de habilitar o botão\n};_this.handleButton=function(e){e.preventDefault();var _this$props=_this.props,history=_this$props.history,dispatch=_this$props.dispatch;var email=_this.state.email;// ESTOU MANDANDO O MEU EMAIL PARA O PAYLOAD\ndispatch(actEmail(email));// A CHAVE PAYLOAD ESTA PEGANDO O MEU EMAIL// levando para action\nhistory.push('/carteira');};_this.validateEmail=function(){var _this$state=_this.state,email=_this$state.email,password=_this$state.password;var re=/\\S+@\\S+\\.\\S+/;var validandoEmail=re.test(email);var validandoPass=password.length>=numberMax;var buttonState=validandoPass&&validandoEmail;_this.setState({button:!buttonState});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var button=this.state.button;return/*#__PURE__*/_jsxs(\"main\",{className:\"box-branco\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"title1\",children:\"Digital\"}),/*#__PURE__*/_jsx(\"p\",{className:\"title2\",children:\"Wallet\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input-email\",type:\"email\",name:\"email\",onChange:this.handleChange,\"data-testid\":\"email-input\",placeholder:\"Digite seu Email\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"input-senha\",\"data-testid\":\"password-input\",onChange:this.handleChange,name:\"password\",placeholder:\"Digite sua senha\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"input-button\",onClick:this.handleButton,disabled:button,children:\"Entrar\"})]})]});}}]);return Login;}(Component);export default connect()(Login);","map":{"version":3,"names":["React","Component","connect","actEmail","numberMax","Login","state","button","email","password","handleChange","target","name","value","setState","validateEmail","handleButton","e","preventDefault","props","history","dispatch","push","re","validandoEmail","test","validandoPass","length","buttonState"],"sources":["/home/carol/Projetos/sd-024-b-project-trybewallet/src/pages/Login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { actEmail } from '../redux/actions/index';\n\nconst numberMax = 6;\n\nclass Login extends Component {\n  state = {\n    button: true,\n    email: '',\n    password: '',\n  };\n\n  // essa função valida os inputs, salvando o value digitado\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value }, () => this.validateEmail()); // vou chamar minha função de validação de input, quando digitar algo ele vai fazer verificações ate chegar na condição de habilitar o botão\n  };\n\n  handleButton = (e) => {\n    e.preventDefault();\n    const { history, dispatch } = this.props;\n    const { email } = this.state; // ESTOU MANDANDO O MEU EMAIL PARA O PAYLOAD\n    dispatch(actEmail(email)); // A CHAVE PAYLOAD ESTA PEGANDO O MEU EMAIL// levando para action\n    history.push('/carteira');\n  };\n\n  // essa função valida a ação do button(click)\n  validateEmail = () => {\n    const { email, password } = this.state;\n    const re = /\\S+@\\S+\\.\\S+/;\n    const validandoEmail = re.test(email);\n    const validandoPass = password.length >= numberMax;\n    const buttonState = validandoPass && validandoEmail;\n    this.setState({ button: !(buttonState) });\n  };\n\n  render() {\n    const { button } = this.state;\n    return (\n      <main className=\"box-branco\">\n        <p className=\"title1\">Digital</p>\n        <p className=\"title2\">Wallet</p>\n\n        <form className=\"form\">\n\n          <input\n            className=\"input-email\"\n            type=\"email\"\n            name=\"email\"\n            onChange={ this.handleChange }\n            data-testid=\"email-input\"\n            placeholder=\"Digite seu Email\"\n            required\n          />\n\n          <input\n            type=\"password\"\n            className=\"input-senha\"\n            data-testid=\"password-input\"\n            onChange={ this.handleChange }\n            name=\"password\"\n            placeholder=\"Digite sua senha\"\n            required\n          />\n\n          <button\n            type=\"submit\"\n            className=\"input-button\"\n            onClick={ this.handleButton }\n            disabled={ button }\n          >\n            Entrar\n          </button>\n\n        </form>\n      </main>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape(),\n}.isRequired;\n\nexport default connect()(Login);\n"],"mappings":"qpBAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,QAAT,KAAyB,wBAAzB,C,wFAEA,GAAMC,UAAS,CAAG,CAAlB,C,GAEMC,M,uTACJC,K,CAAQ,CACNC,MAAM,CAAE,IADF,CAENC,KAAK,CAAE,EAFD,CAGNC,QAAQ,CAAE,EAHJ,C,OAORC,Y,CAAe,cAAgB,IAAbC,OAAa,MAAbA,MAAa,CAC7B,GAAQC,KAAR,CAAwBD,MAAxB,CAAQC,IAAR,CAAcC,KAAd,CAAwBF,MAAxB,CAAcE,KAAd,CACA,MAAKC,QAAL,oBAAiBF,IAAjB,CAAwBC,KAAxB,EAAiC,iBAAM,OAAKE,aAAL,EAAN,EAAjC,EAA8D;AAC/D,C,OAEDC,Y,CAAe,SAACC,CAAD,CAAO,CACpBA,CAAC,CAACC,cAAF,GACA,gBAA8B,MAAKC,KAAnC,CAAQC,OAAR,aAAQA,OAAR,CAAiBC,QAAjB,aAAiBA,QAAjB,CACA,GAAQb,MAAR,CAAkB,MAAKF,KAAvB,CAAQE,KAAR,CAA8B;AAC9Ba,QAAQ,CAAClB,QAAQ,CAACK,KAAD,CAAT,CAAR,CAA2B;AAC3BY,OAAO,CAACE,IAAR,CAAa,WAAb,EACD,C,OAGDP,a,CAAgB,UAAM,CACpB,gBAA4B,MAAKT,KAAjC,CAAQE,KAAR,aAAQA,KAAR,CAAeC,QAAf,aAAeA,QAAf,CACA,GAAMc,GAAE,CAAG,cAAX,CACA,GAAMC,eAAc,CAAGD,EAAE,CAACE,IAAH,CAAQjB,KAAR,CAAvB,CACA,GAAMkB,cAAa,CAAGjB,QAAQ,CAACkB,MAAT,EAAmBvB,SAAzC,CACA,GAAMwB,YAAW,CAAGF,aAAa,EAAIF,cAArC,CACA,MAAKV,QAAL,CAAc,CAAEP,MAAM,CAAE,CAAEqB,WAAZ,CAAd,EACD,C,uDAED,iBAAS,CACP,GAAQrB,OAAR,CAAmB,KAAKD,KAAxB,CAAQC,MAAR,CACA,mBACE,cAAM,SAAS,CAAC,YAAhB,wBACE,UAAG,SAAS,CAAC,QAAb,qBADF,cAEE,UAAG,SAAS,CAAC,QAAb,oBAFF,cAIE,cAAM,SAAS,CAAC,MAAhB,wBAEE,cACE,SAAS,CAAC,aADZ,CAEE,IAAI,CAAC,OAFP,CAGE,IAAI,CAAC,OAHP,CAIE,QAAQ,CAAG,KAAKG,YAJlB,CAKE,cAAY,aALd,CAME,WAAW,CAAC,kBANd,CAOE,QAAQ,KAPV,EAFF,cAYE,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,aAFZ,CAGE,cAAY,gBAHd,CAIE,QAAQ,CAAG,KAAKA,YAJlB,CAKE,IAAI,CAAC,UALP,CAME,WAAW,CAAC,kBANd,CAOE,QAAQ,KAPV,EAZF,cAsBE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,cAFZ,CAGE,OAAO,CAAG,KAAKM,YAHjB,CAIE,QAAQ,CAAGT,MAJb,oBAtBF,GAJF,GADF,CAuCD,C,mBAxEiBN,S,EA+EpB,cAAeC,QAAO,GAAGG,KAAH,CAAtB"},"metadata":{},"sourceType":"module"}