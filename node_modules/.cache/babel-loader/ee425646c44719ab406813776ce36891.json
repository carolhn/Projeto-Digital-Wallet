{"ast":null,"code":"var _jsxFileName = \"/home/carol/Projetos/sd-024-b-project-trybewallet/src/pages/Login.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { actEmail } from '../redux/actions/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst numberMax = 6;\n\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      button: true,\n      email: '',\n      password: ''\n    };\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, () => this.validateEmail()); // vou chamar minha função de validação de input, quando digitar algo ele vai fazer verificações ate chegar na condição de habilitar o botão\n    };\n\n    this.handleButton = e => {\n      e.preventDefault();\n      const {\n        history,\n        dispatch\n      } = this.props;\n      const {\n        email\n      } = this.state; // ESTOU MANDANDO O MEU EMAIL PARA O PAYLOAD\n\n      dispatch(actEmail(email)); // A CHAVE PAYLOAD ESTA PEGANDO O MEU EMAIL// levando para action\n\n      history.push('/carteira');\n    };\n\n    this.validateEmail = () => {\n      const {\n        email,\n        password\n      } = this.state;\n      const re = /\\S+@\\S+\\.\\S+/;\n      const validandoEmail = re.test(email);\n      const validandoPass = password.length >= numberMax;\n      const buttonState = validandoPass && validandoEmail;\n      this.setState({\n        button: !buttonState\n      });\n    };\n  }\n\n  render() {\n    const {\n      button\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box-branco\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://cdn.icon-icons.com/icons2/1103/PNG/512/wallet_78921.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-email\",\n          type: \"email\",\n          name: \"email\",\n          onChange: this.handleChange,\n          \"data-testid\": \"email-input\",\n          placeholder: \"Digite seu Email\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"input-senha\",\n          \"data-testid\": \"password-input\",\n          onChange: this.handleChange,\n          name: \"password\",\n          placeholder: \"Digite sua senha\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"input-button\",\n          onClick: this.handleButton,\n          disabled: button,\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape()\n}.isRequired;\nexport default connect()(Login);","map":{"version":3,"names":["React","Component","connect","PropTypes","actEmail","numberMax","Login","state","button","email","password","handleChange","target","name","value","setState","validateEmail","handleButton","e","preventDefault","history","dispatch","props","push","re","validandoEmail","test","validandoPass","length","buttonState","render","propTypes","shape","isRequired"],"sources":["/home/carol/Projetos/sd-024-b-project-trybewallet/src/pages/Login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { actEmail } from '../redux/actions/index';\n\nconst numberMax = 6;\n\nclass Login extends Component {\n  state = {\n    button: true,\n    email: '',\n    password: '',\n  };\n\n  // essa função valida os inputs, salvando o value digitado\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value }, () => this.validateEmail()); // vou chamar minha função de validação de input, quando digitar algo ele vai fazer verificações ate chegar na condição de habilitar o botão\n  };\n\n  handleButton = (e) => {\n    e.preventDefault();\n    const { history, dispatch } = this.props;\n    const { email } = this.state; // ESTOU MANDANDO O MEU EMAIL PARA O PAYLOAD\n    dispatch(actEmail(email)); // A CHAVE PAYLOAD ESTA PEGANDO O MEU EMAIL// levando para action\n    history.push('/carteira');\n  };\n\n  // essa função valida a ação do button(click)\n  validateEmail = () => {\n    const { email, password } = this.state;\n    const re = /\\S+@\\S+\\.\\S+/;\n    const validandoEmail = re.test(email);\n    const validandoPass = password.length >= numberMax;\n    const buttonState = validandoPass && validandoEmail;\n    this.setState({ button: !(buttonState) });\n  };\n\n  render() {\n    const { button } = this.state;\n    return (\n      <div className=\"box-branco\">\n        <img src=\"https://cdn.icon-icons.com/icons2/1103/PNG/512/wallet_78921.png\"/>\n\n        <form className=\"form\">\n\n          <input\n            className=\"input-email\"\n            type=\"email\"\n            name=\"email\"\n            onChange={ this.handleChange }\n            data-testid=\"email-input\"\n            placeholder=\"Digite seu Email\"\n            required\n          />\n\n          <input\n            type=\"password\"\n            className=\"input-senha\"\n            data-testid=\"password-input\"\n            onChange={ this.handleChange }\n            name=\"password\"\n            placeholder=\"Digite sua senha\"\n            required\n          />\n\n          <button\n            type=\"submit\"\n            className=\"input-button\"\n            onClick={ this.handleButton }\n            disabled={ button }\n          >\n            Entrar\n          </button>\n\n        </form>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape(),\n}.isRequired;\n\nexport default connect()(Login);\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,QAAT,QAAyB,wBAAzB;;AAEA,MAAMC,SAAS,GAAG,CAAlB;;AAEA,MAAMC,KAAN,SAAoBL,SAApB,CAA8B;EAAA;IAAA;IAAA,KAC5BM,KAD4B,GACpB;MACNC,MAAM,EAAE,IADF;MAENC,KAAK,EAAE,EAFD;MAGNC,QAAQ,EAAE;IAHJ,CADoB;;IAAA,KAQ5BC,YAR4B,GAQb,QAAgB;MAAA,IAAf;QAAEC;MAAF,CAAe;MAC7B,MAAM;QAAEC,IAAF;QAAQC;MAAR,IAAkBF,MAAxB;MACA,KAAKG,QAAL,CAAc;QAAE,CAACF,IAAD,GAAQC;MAAV,CAAd,EAAiC,MAAM,KAAKE,aAAL,EAAvC,EAF6B,CAEiC;IAC/D,CAX2B;;IAAA,KAa5BC,YAb4B,GAaZC,CAAD,IAAO;MACpBA,CAAC,CAACC,cAAF;MACA,MAAM;QAAEC,OAAF;QAAWC;MAAX,IAAwB,KAAKC,KAAnC;MACA,MAAM;QAAEb;MAAF,IAAY,KAAKF,KAAvB,CAHoB,CAGU;;MAC9Bc,QAAQ,CAACjB,QAAQ,CAACK,KAAD,CAAT,CAAR,CAJoB,CAIO;;MAC3BW,OAAO,CAACG,IAAR,CAAa,WAAb;IACD,CAnB2B;;IAAA,KAsB5BP,aAtB4B,GAsBZ,MAAM;MACpB,MAAM;QAAEP,KAAF;QAASC;MAAT,IAAsB,KAAKH,KAAjC;MACA,MAAMiB,EAAE,GAAG,cAAX;MACA,MAAMC,cAAc,GAAGD,EAAE,CAACE,IAAH,CAAQjB,KAAR,CAAvB;MACA,MAAMkB,aAAa,GAAGjB,QAAQ,CAACkB,MAAT,IAAmBvB,SAAzC;MACA,MAAMwB,WAAW,GAAGF,aAAa,IAAIF,cAArC;MACA,KAAKV,QAAL,CAAc;QAAEP,MAAM,EAAE,CAAEqB;MAAZ,CAAd;IACD,CA7B2B;EAAA;;EA+B5BC,MAAM,GAAG;IACP,MAAM;MAAEtB;IAAF,IAAa,KAAKD,KAAxB;IACA,oBACE;MAAK,SAAS,EAAC,YAAf;MAAA,wBACE;QAAK,GAAG,EAAC;MAAT;QAAA;QAAA;QAAA;MAAA,QADF,eAGE;QAAM,SAAS,EAAC,MAAhB;QAAA,wBAEE;UACE,SAAS,EAAC,aADZ;UAEE,IAAI,EAAC,OAFP;UAGE,IAAI,EAAC,OAHP;UAIE,QAAQ,EAAG,KAAKI,YAJlB;UAKE,eAAY,aALd;UAME,WAAW,EAAC,kBANd;UAOE,QAAQ;QAPV;UAAA;UAAA;UAAA;QAAA,QAFF,eAYE;UACE,IAAI,EAAC,UADP;UAEE,SAAS,EAAC,aAFZ;UAGE,eAAY,gBAHd;UAIE,QAAQ,EAAG,KAAKA,YAJlB;UAKE,IAAI,EAAC,UALP;UAME,WAAW,EAAC,kBANd;UAOE,QAAQ;QAPV;UAAA;UAAA;UAAA;QAAA,QAZF,eAsBE;UACE,IAAI,EAAC,QADP;UAEE,SAAS,EAAC,cAFZ;UAGE,OAAO,EAAG,KAAKM,YAHjB;UAIE,QAAQ,EAAGT,MAJb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAtBF;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAsCD;;AAvE2B;;AA0E9BF,KAAK,CAACyB,SAAN,GAAkB;EAChBX,OAAO,EAAEjB,SAAS,CAAC6B,KAAV;AADO,EAEhBC,UAFF;AAIA,eAAe/B,OAAO,GAAGI,KAAH,CAAtB"},"metadata":{},"sourceType":"module"}